(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[505],{4669:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/tambah-undangan",function(){return t(9653)}])},6464:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var s=t(5893);function a(e){let{props:n}=e,t=async()=>{try{console.log("Try"),await fetch("/api/db_undangan",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:n._id})}),alert("data Terhapus")}catch(e){}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"text-center col-lg-10 col-md-10 form-group p-2",children:[(0,s.jsxs)("a",{href:n.link,children:[" ",(0,s.jsxs)("button",{className:"book-a-table-btn",children:["Contoh Undangan ","1"]})]}),(0,s.jsx)("button",{type:"button",onClick:()=>t(),className:"btn btn-outline-secondary mx-3",children:"HAPUS"})]})})}},9653:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var s=t(5893);t(1664);var a=t(7294),r=t(1163),l=t(9734),c=t(6464);function i(){let[e,n]=(0,a.useState)(""),[t,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),u=(0,r.useRouter)(),m=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return fetch(...n).then(e=>e.json())},{data:h,error:g}=(0,l.ZP)("/api/db_undangan",m,{refreshInterval:1e3}),f=async n=>{if(n.preventDefault(),!e)return setError("All fields are required");let t=await (await fetch("/api/db_undangan",{method:"POST",body:JSON.stringify({link:e})})).json();return t.success?(u.reload(),i(t.message)):(console.log(t.message),setError(t.message))};if(!h)return(0,s.jsx)("div",{className:"spinner"});if(g)return(0,s.jsx)("div",{children:"Something went wrong"});let x=h.message;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("section",{id:"events",className:"events",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"section-title",children:(0,s.jsx)("h2",{children:"UNDANGNAN"})}),(0,s.jsx)("form",{onSubmit:f,children:(0,s.jsxs)("div",{className:" col-lg-12",children:[(0,s.jsxs)("div",{className:"col-lg-6 col-md-10 mt-3 form-group",children:[(0,s.jsx)("label",{style:{color:"white"},children:"UNDANGNAN "}),(0,s.jsx)("input",{type:"text",className:"form-control",placeholder:"Link undangan",onChange:e=>n(e.target.value),value:e}),(0,s.jsx)("div",{className:"validate"})]}),(0,s.jsxs)("div",{className:"text-center col-lg-6 col-md-10 form-group mt-3 mt-5",children:[(0,s.jsx)("button",{className:"book-a-table-btn",type:"submit",disabled:!1!==o,children:"Tambahkan"}),(0,s.jsx)("div",{className:"text-center col-lg-6 col-md-10"})]})]})})]})}),(0,s.jsx)("div",{className:"row col-lg-12",children:0===x.length?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:x.map((e,n)=>(0,s.jsx)(c.Z,{props:e}))})})]})}}},function(e){e.O(0,[734,664,774,888,179],function(){return e(e.s=4669)}),_N_E=e.O()}]);